
IF(WIN32)
	FIND_PACKAGE(OggVorbis)
	FIND_PACKAGE(Theora)
ELSE(WIN32)
	FIND_PACKAGE(OggVorbis REQUIRED)
	FIND_PACKAGE(Theora REQUIRED)
ENDIF(WIN32)

# We have precompiled libs for windows
IF (NOT OGGVORBIS_FOUND AND WIN32)
	MESSAGE(STATUS "Could not find ogg vorbis libraries on system, using included pre-built libraries")

	SET(VORBIS_INCLUDE_DIR ${CMAKE_CURRENT_LIST_DIR}/include CACHE INTERNAL "Vorbis include directory")
	SET(OGG_INCLUDE_DIR ${CMAKE_CURRENT_LIST_DIR}/include CACHE INTERNAL "Ogg include directory")
	
	SET(OGGVORBIS_LIBRARIES ${CMAKE_CURRENT_LIST_DIR}/lib/ogg_static.lib ${CMAKE_CURRENT_LIST_DIR}/lib/vorbis_static.lib
		${CMAKE_CURRENT_LIST_DIR}/lib/vorbisfile_static.lib
		CACHE INTERNAL "Ogg vorbis library files")
ELSE(NOT OGGVORBIS_FOUND AND WIN32)
	INCLUDE(util)

	MAKE_CACHE_INTERNAL(VORBIS_INCLUDE_DIR)
	MAKE_CACHE_INTERNAL(OGG_INCLUDE_DIR)
	MAKE_CACHE_INTERNAL(OGGVORBIS_LIBRARIES)
ENDIF(NOT OGGVORBIS_FOUND AND WIN32)

IF (NOT THEORA_FOUND AND WIN32)
	MESSAGE(STATUS "Could not find theora libraries on system, using included pre-built libraries")

	SET(THEORA_INCLUDE_DIR ${CMAKE_CURRENT_LIST_DIR}/include CACHE INTERNAL "THEORA include directory")
	
	SET(THEORA_LIBRARY ${CMAKE_CURRENT_LIST_DIR}/lib/theora_static.lib
		CACHE INTERNAL "Ogg vorbis library files")
ELSE(NOT THEORA_FOUND AND WIN32)
	INCLUDE(util)

	MAKE_CACHE_INTERNAL(THEORA_INCLUDE_DIR)
	MAKE_CACHE_INTERNAL(THEORA_LIBRARY)
ENDIF(NOT THEORA_FOUND AND WIN32)

