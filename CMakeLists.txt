
CMAKE_MINIMUM_REQUIRED(VERSION 2.8.3)

SET(FSO_VERSION_MAJOR 3)
SET(FSO_VERSION_MINOR 7)
SET(FSO_VERSION_RELEASE 1)

IF (NOT FSO_VERSION_REVISION)
	SET(FSO_VERSION_REVISION 0)
ENDIF(NOT FSO_VERSION_REVISION)

PROJECT(FSO)

### Define options and editable variables in the section below:
IF (WIN32)
	OPTION(FSO_USE_SPEECH "Use Windows specific text-to-speach libraries" OFF)
	
	OPTION(FSO_USE_VOICEREC "Enable voice recognition support" OFF)
ENDIF(WIN32)

OPTION(FSO_COPY_EXE "Copy executables to FS2PATH when the build is done" ON)

SET(FSO_INSTRUCTION_SET "" CACHE STRING "The instruction set enhancement to use, possible options are SSE, SSE2 and AVX")

IF (NOT FSO_INSTRUCTION_SET STREQUAL "SSE" AND NOT FSO_INSTRUCTION_SET STREQUAL "SSE2"
	AND NOT FSO_INSTRUCTION_SET STREQUAL "AVX" AND NOT FSO_INSTRUCTION_SET STREQUAL "")

	MESSAGE(WARNING "Unrecognized instruction set '${FSO_INSTRUCTION_SET}'! Defaulting to no optionization")
	
	SET(FSO_INSTRUCTION_SET "")
ENDIF()

LIST(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake")
INCLUDE(compilers)
INCLUDE(platforms)
INCLUDE(generators)

INCLUDE(headers)

ADD_SUBDIRECTORY(lib)

ADD_SUBDIRECTORY(code)

ADD_SUBDIRECTORY(freespace2)
